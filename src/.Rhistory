"%", " (",df_2019$diff, ")", sep=""), size=3.5))
ggplot(data=df_2019, aes(x=party_short, y=percentage, fill=party_short)) +
geom_bar(stat="identity", width = 0.55) +
coord_flip() +
theme_minimal() +
theme(legend.position = "top") +
scale_fill_manual(values=df_2019$color) +
labs(fill = "Subjekti Politik", x = "", y = "Vota", title="Numri i votave sipas subjektit politik",
subtitle="Pa vota me kusht dhe me poste") +
ylim(0,25) +
geom_text(aes(label=paste(df_2019$percentage,
"%", " (",df_2019$diff, ")", sep=""), size=3.5))
ggplot(data=df_2019, aes(x=party_short, y=votes, fill=party_short)) +
geom_bar(stat="identity", width = 0.55) +
coord_flip() +
theme_minimal() +
theme(legend.position = "top") +
scale_fill_manual(values=df_2019$color) +
labs(fill = "Subjekti Politik", x = "", y = "Vota", title="Numri i votave sipas subjektit politik",
subtitle="Pa vota me kusht dhe me poste") +
geom_text(aes(label=paste(percentage,
"%", " (",df_2019$diff, ")", sep=""), size=3.5))
ggplot(data=df_2019, aes(x=party_short, y=percentage, fill=party_short)) +
geom_bar(stat="identity", width = 0.55) +
coord_flip() +
theme_minimal() +
theme(legend.position = "top") +
scale_fill_manual(values=df_2019$color)
ggplot(data=df_2019, aes(x=party_short, y=percentage, fill=party_short)) +
geom_bar(stat="identity", width = 0.55) +
coord_flip() +
theme_minimal() +
theme(legend.position = "top") +
scale_fill_manual(values=df_2019$color) +
labs(fill = "Subjekti Politik", x = "", y = "Vota", title="Numri i votave sipas subjektit politik",
subtitle="Pa vota me kusht dhe me poste") +
geom_text(aes(label=paste(percentage,
"%", " (",df_2019$diff, ")", sep=""), size=3.5))
ggplot(data=df_2019, aes(x=party_short, y=percentage, fill=party_short)) +
geom_bar(stat="identity", width = 0.55) +
coord_flip() +
theme_minimal() +
theme(legend.position = "top") +
scale_fill_manual(values=df_2019$color) +
labs(fill = "Subjekti Politik", x = "", y = "Vota", title="Numri i votave sipas subjektit politik",
subtitle="Pa vota me kusht dhe me poste") +
geom_text(aes(label=paste(percentage,
"%", " (",df_2019$diff, ")", sep=""), size=3.5)) +
ylim(0,30)
ggplot(data=df_2017, aes(x=party_short, y=percentage, fill=party_short)) +
geom_bar(stat="identity", width = 0.25, alpha=0.5) +
coord_flip() +
theme_minimal() +
scale_fill_manual(values=df_2019$color) +
theme(axis.line=element_blank(),axis.text.x=element_blank(),
axis.text.y=element_blank(),axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),legend.position="none",
panel.background=element_blank(),panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank()) +
ylim(0,30)
ggplot(data=df_2019, aes(x=party_short, y=percentage, fill=party_short)) +
geom_bar(stat="identity", width = 0.55) +
coord_flip() +
theme_minimal() +
theme(legend.position = "top") +
scale_fill_manual(values=df_2019$color) +
labs(fill = "Subjekti Politik", x = "", y = "Vota", title="Numri i votave sipas subjektit politik",
subtitle="Pa vota me kusht dhe me poste") +
geom_text(aes(label=paste(percentage,
"%", " (",df_2019$diff, ")", sep=""), size=3.5)) +
ylim(0,30)
ggsave("example1.png", width=4,height = 4)
ggplot(data=df_2017, aes(x=party_short, y=percentage, fill=party_short)) +
geom_bar(stat="identity", width = 0.25, alpha=0.5) +
coord_flip() +
theme_minimal() +
scale_fill_manual(values=df_2019$color) +
theme(axis.line=element_blank(),axis.text.x=element_blank(),
axis.text.y=element_blank(),axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),legend.position="none",
panel.background=element_blank(),panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank()) +
ylim(0,30)
ggsave("example2.png", width=4,height = 4)
ggplot(data=df_2017, aes(x=party_short, y=percentage, fill=party_short)) +
geom_bar(stat="identity", width = 0.25, alpha=0.5) +
coord_flip() +
theme_minimal() +
scale_fill_manual(values=df_2019$color) +
theme(axis.line=element_blank(),axis.text.x=element_blank(),
axis.text.y=element_blank(),axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),legend.position="none",
panel.background=element_blank(),panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank()) +
ylim(0,30)
ggsave("example2.png", width=12,height = 8)
ggplot(data=df_2019, aes(x=party_short, y=percentage, fill=party_short)) +
geom_bar(stat="identity", width = 0.55) +
coord_flip() +
theme_minimal() +
theme(legend.position = "top") +
scale_fill_manual(values=df_2019$color) +
labs(fill = "Subjekti Politik", x = "", y = "Vota", title="Numri i votave sipas subjektit politik",
subtitle="Pa vota me kusht dhe me poste") +
geom_text(aes(label=paste(percentage,
"%", " (",df_2019$diff, ")", sep=""), size=3.5)) +
ylim(0,30)
ggsave("example1.png", width=12,height = 8)
ggplot(data=df_2017, aes(x=party_short, y=percentage, fill=party_short)) +
geom_bar(stat="identity", width = 0.25, alpha=0.5) +
coord_flip() +
theme_minimal() +
scale_fill_manual(values=df_2019$color) +
theme(axis.line=element_blank(),axis.text.x=element_blank(),
axis.text.y=element_blank(),axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),legend.position="none",
panel.background=element_blank(),panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank()) +
ylim(0,30)
ggsave("example2.png", width=12,height = 6)
ggplot(data=df_2017, aes(x=party_short, y=percentage, fill=party_short)) +
geom_bar(stat="identity", width = 0.25, alpha=0.5) +
coord_flip() +
theme_minimal() +
scale_fill_manual(values=df_2019$color) +
theme(axis.line=element_blank(),axis.text.x=element_blank(),
axis.text.y=element_blank(),axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),legend.position="none",
panel.background=element_blank(),panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank()) +
ylim(0,30)
ggsave("example2.png", width=12,height = 8)
ggplot(data=df_2017, aes(x=party_short, y=percentage, fill=party_short)) +
geom_bar(stat="identity", width = 0.25, alpha=0.5) +
coord_flip() +
theme_minimal() +
scale_fill_manual(values=df_2019$color) +
theme(axis.line=element_blank(),axis.text.x=element_blank(),
axis.text.y=element_blank(),axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),legend.position="none",
panel.background=element_blank(),panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank()) +
ylim(0,30)
ggsave("example2.png", width=12,height = 7)
ggplot(data=df_2017, aes(x=party_short, y=percentage, fill=party_short)) +
geom_bar(stat="identity", width = 0.25, alpha=1) +
coord_flip() +
theme_minimal() +
scale_fill_manual(values=df_2019$color) +
theme(axis.line=element_blank(),axis.text.x=element_blank(),
axis.text.y=element_blank(),axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),legend.position="none",
panel.background=element_blank(),panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank()) +
ylim(0,30)
ggsave("example2.png", width=12,height = 7.5)
ggplot(data=df_2017, aes(x=party_short, y=percentage, fill=party_short)) +
geom_bar(stat="identity", width = 0.25, alpha=1) +
coord_flip() +
theme_minimal() +
scale_fill_manual(values=df_2019$color) +
theme(axis.line=element_blank(),axis.text.x=element_blank(),
axis.text.y=element_blank(),axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),legend.position="none",
panel.background=element_blank(),panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank()) +
ylim(0,30)
ggsave("example2.png", width=12,height = 7.1)
ggplot(data=df_2017, aes(x=party_short, y=percentage, fill=party_short)) +
geom_bar(stat="identity", width = 0.25, alpha=1) +
coord_flip() +
theme_minimal() +
scale_fill_manual(values=df_2019$color) +
theme(axis.line=element_blank(),axis.text.x=element_blank(),
axis.text.y=element_blank(),axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),legend.position="none",
panel.background = element_rect(fill = "transparent"),
panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank()) +
ylim(0,30)
ggsave("example2.png", width=12,height = 8, bg = "transparent")
ggsave("example2.png", width=12,height = 7.25, bg = "transparent")
ggplot(data=df_2017, aes(x=party_short, y=percentage, fill=party_short)) +
geom_bar(stat="identity", width = 0.25, alpha=1) +
coord_flip() +
theme_minimal() +
scale_fill_manual(values=df_2019$color) +
theme(axis.line=element_blank(),axis.text.x=element_blank(),
axis.text.y=element_blank(),axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),legend.position="none",
panel.background = element_rect(fill = "transparent"),
panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank()) +
ylim(0,30) +
labs(fill = "Subjekti Politik", x = "", y = "Vota", title="Numri i votave sipas subjektit politik",
subtitle="Pa vota me kusht dhe me poste")
ggsave("example2.png", width=12,height = 8, bg = "transparent")
ggplot(data=df_2017, aes(x=party_short, y=percentage, fill=party_short)) +
geom_bar(stat="identity", width = 0.25, alpha=1) +
coord_flip() +
theme_minimal() +
scale_fill_manual(values=df_2019$color) +
theme(axis.line=element_blank(),axis.text.x=element_blank(),
axis.text.y=element_blank(),axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),legend.position="top",
panel.background = element_rect(fill = "transparent"),
panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank()) +
ylim(0,30) +
labs(fill = "Subjekti Politik", x = "", y = "Vota", title="Numri i votave sipas subjektit politik",
subtitle="Pa vota me kusht dhe me poste")
ggsave("example2.png", width=12,height = 8, bg = "transparent")
ggplot(data=df_2017, aes(x=party_short, y=percentage, fill=party_short)) +
geom_bar(stat="identity", width = 0.25, alpha=1) +
coord_flip() +
theme_minimal() +
scale_fill_manual(values=df_2019$color) +
theme(axis.line=element_blank(),axis.text.x=element_blank(),
axis.text.y=element_blank(),axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),legend.position="top",
panel.background = element_rect(fill = "transparent"),
panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank()) +
ylim(0,30) +
labs(fill = "Subjekti Politik", x = "", y = "Vota", title="Numri i votave sipas subjektit politik",
subtitle="Pa vota me kusht dhe me poste")
ggsave("example2.png", width=12,height = 7, bg = "transparent")
ggsave("example2.png", width=12,height = 7.9, bg = "transparent")
ggplot(data=df_2017, aes(x=party_short, y=percentage, fill=party_short)) +
geom_bar(stat="identity", width = 0.55, alpha=1) +
coord_flip() +
theme_minimal() +
scale_fill_manual(values=df_2019$color) +
theme(axis.line=element_blank(),axis.text.x=element_blank(),
axis.text.y=element_blank(),axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),legend.position="top",
panel.background = element_rect(fill = "transparent"),
panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank()) +
ylim(0,30) +
labs(fill = "Subjekti Politik", x = "", y = "Vota", title="Numri i votave sipas subjektit politik",
subtitle="Pa vota me kusht dhe me poste")
ggsave("example2.png", width=12,height = 8, bg = "transparent")
View(df)
df <- read.csv("../data/raw/overall_results.csv",stringsAsFactors=FALSE, encoding="UTF-8")
df_2019 <- df %>% filter(year == 2019)
df_2019 <- df_2019 %>% arrange(votes)
df_2019$party_short <- factor(df_2019$party_short, levels = df_2019$party_short)
df_2019$party_long <- factor(df_2019$party_long, levels = df_2019$party_long)
df_2019$diff <- round(df_2019$percentage - df_2017$percentage,1)
View(df_2019)
df_2019 <- df %>% filter(year == 2019)
df_2019$diff <- round(df_2019$percentage - df_2017$percentage,1)
df_2019 <- df_2019 %>% arrange(votes)
df_2019$party_short <- factor(df_2019$party_short, levels = df_2019$party_short)
df_2019$party_long <- factor(df_2019$party_long, levels = df_2019$party_long)
for (i in 1:length(df_2019$diff)) {
if (df_2019$diff[i] > 0) {
df_2019$diff[i] <- paste("+",df_2019$diff[i],sep="")
}
}
ggplot(data=df_2019, aes(x=party_short, y=percentage, fill=party_short)) +
geom_bar(stat="identity", width = 0.55) +
coord_flip() +
theme_minimal() +
theme(legend.position = "top") +
scale_fill_manual(values=df_2019$color) +
labs(fill = "Subjekti Politik", x = "", y = "Vota", title="Numri i votave sipas subjektit politik",
subtitle="Pa vota me kusht dhe me poste") +
geom_text(aes(label=paste(percentage,
"%", " (",df_2019$diff, ")", sep=""), size=3.5)) +
ylim(0,30)
ggsave("example1.png", width=12,height = 8)
df_2017 <- df %>% filter(year == 2017)
df_2017 <- df_2017 %>% arrange(votes)
df_2017$party_short <- factor(df_2017$party_short, levels = df_2019$party_short)
df_2017$party_long <- factor(df_2017$party_long, levels = df_2019$party_long)
ggplot(data=df_2017, aes(x=party_short, y=percentage, fill=party_short)) +
geom_bar(stat="identity", width = 0.55, alpha=1) +
coord_flip() +
theme_minimal() +
scale_fill_manual(values=df_2019$color) +
theme(axis.line=element_blank(),axis.text.x=element_blank(),
axis.text.y=element_blank(),axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),legend.position="top",
panel.background = element_rect(fill = "transparent"),
panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank()) +
ylim(0,30) +
labs(fill = "Subjekti Politik", x = "", y = "Vota", title="Numri i votave sipas subjektit politik",
subtitle="Pa vota me kusht dhe me poste")
ggsave("example2.png", width=12,height = 8, bg = "transparent")
View(df_2017)
df <- read.csv("../data/raw/overall_results.csv",stringsAsFactors=FALSE, encoding="UTF-8")
df_2019 <- df %>% filter(year == 2019)
df_2017 <- df %>% filter(year == 2017)
df_2019$diff <- round(df_2019$percentage - df_2017$percentage,1)
df_2019 <- df_2019 %>% arrange(percentage)
df_2019$party_short <- factor(df_2019$party_short, levels = df_2019$party_short)
df_2019$party_long <- factor(df_2019$party_long, levels = df_2019$party_long)
for (i in 1:length(df_2019$diff)) {
if (df_2019$diff[i] > 0) {
df_2019$diff[i] <- paste("+",df_2019$diff[i],sep="")
}
}
ggplot(data=df_2019, aes(x=party_short, y=percentage, fill=party_short)) +
geom_bar(stat="identity", width = 0.55) +
coord_flip() +
theme_minimal() +
theme(legend.position = "top") +
scale_fill_manual(values=df_2019$color) +
labs(fill = "Subjekti Politik", x = "", y = "Vota", title="Numri i votave sipas subjektit politik",
subtitle="Pa vota me kusht dhe me poste") +
geom_text(aes(label=paste(percentage,
"%", " (",df_2019$diff, ")", sep=""), size=3.5)) +
ylim(0,30)
ggsave("example1.png", width=12,height = 8)
df_2017 <- df_2017 %>% arrange(percentage)
df_2017$party_short <- factor(df_2017$party_short, levels = df_2019$party_short)
df_2017$party_long <- factor(df_2017$party_long, levels = df_2019$party_long)
ggplot(data=df_2017, aes(x=party_short, y=percentage, fill=party_short)) +
geom_bar(stat="identity", width = 0.55, alpha=1) +
coord_flip() +
theme_minimal() +
scale_fill_manual(values=df_2019$color) +
theme(axis.line=element_blank(),axis.text.x=element_blank(),
axis.text.y=element_blank(),axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),legend.position="top",
panel.background = element_rect(fill = "transparent"),
panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank()) +
ylim(0,30) +
labs(fill = "Subjekti Politik", x = "", y = "Vota", title="Numri i votave sipas subjektit politik",
subtitle="Pa vota me kusht dhe me poste")
ggsave("example2.png", width=12,height = 8, bg = "transparent")
ggplot(data=df_2017, aes(x=party_short, y=percentage, fill=party_short)) +
geom_bar(stat="identity", width = 0.55, alpha=1) +
coord_flip() +
theme_minimal() +
scale_fill_manual(values=df_2019$color) +
theme(axis.line=element_blank(),
axis.text.y=element_blank(),axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),legend.position="top",
panel.background = element_rect(fill = "transparent"),
panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank()) +
ylim(0,30) +
labs(fill = "Subjekti Politik", x = "", y = "Vota", title="Numri i votave sipas subjektit politik",
subtitle="Pa vota me kusht dhe me poste")
ggplot(data=df_2017, aes(x=party_short, y=percentage, fill=party_short)) +
geom_bar(stat="identity", width = 0.55, alpha=1) +
coord_flip() +
theme_minimal() +
scale_fill_manual(values=df_2019$color) +
theme(axis.line=element_blank(),
axis.text.y=element_blank(),axis.ticks=element_blank(),
axis.title.y=element_blank(),legend.position="top",
panel.background = element_rect(fill = "transparent"),
panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank()) +
ylim(0,30) +
labs(fill = "Subjekti Politik", x = "", y = "Vota", title="Numri i votave sipas subjektit politik",
subtitle="Pa vota me kusht dhe me poste")
ggplot(data=df_2017, aes(x=party_short, y=percentage, fill=party_short)) +
geom_bar(stat="identity", width = 0.55, alpha=1) +
coord_flip() +
theme_minimal() +
scale_fill_manual(values=df_2019$color) +
theme(legend.position="top",
panel.background = element_rect(fill = "transparent"),
panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank()) +
ylim(0,30) +
labs(fill = "Subjekti Politik", x = "", y = "Vota", title="Numri i votave sipas subjektit politik",
subtitle="Pa vota me kusht dhe me poste")
ggsave("example2.png", width=12,height = 8, bg = "transparent")
df <- read.csv("../data/raw/overall_results-v2.csv",stringsAsFactors=FALSE, encoding="UTF-8")
df_2019 <- df %>% filter(year == 2019)
df_2017 <- df %>% filter(year == 2017)
df_2019$diff <- round(df_2019$percentage - df_2017$percentage,1)
df_2019 <- df_2019 %>% arrange(percentage)
df_2019$party_short <- factor(df_2019$party_short, levels = df_2019$party_short)
df_2019$party_long <- factor(df_2019$party_long, levels = df_2019$party_long)
for (i in 1:length(df_2019$diff)) {
if (df_2019$diff[i] > 0) {
df_2019$diff[i] <- paste("+",df_2019$diff[i],sep="")
}
}
ggplot(data=df_2019, aes(x=party_short, y=percentage, fill=party_short)) +
geom_bar(stat="identity", width = 0.55) +
coord_flip() +
theme_minimal() +
theme(legend.position = "top") +
scale_fill_manual(values=df_2019$color) +
labs(fill = "Subjekti Politik", x = "", y = "Vota", title="Numri i votave sipas subjektit politik",
subtitle="Pa vota me kusht dhe me poste") +
geom_text(aes(label=paste(percentage,
"%", " (",df_2019$diff, ")", sep=""), size=3.5)) +
ylim(0,30)
ggsave("../figures/example1-v2.png", width=12,height = 8)
df_2017 <- df_2017 %>% arrange(percentage)
df_2017$party_short <- factor(df_2017$party_short, levels = df_2019$party_short)
df_2017$party_long <- factor(df_2017$party_long, levels = df_2019$party_long)
ggplot(data=df_2017, aes(x=party_short, y=percentage, fill=party_short)) +
geom_bar(stat="identity", width = 0.55, alpha=1) +
coord_flip() +
theme_minimal() +
scale_fill_manual(values=df_2019$color) +
theme(legend.position="top",
panel.background = element_rect(fill = "transparent"),
panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank()) +
ylim(0,30) +
labs(fill = "Subjekti Politik", x = "", y = "Vota", title="Numri i votave sipas subjektit politik",
subtitle="Pa vota me kusht dhe me poste")
ggsave("../figures/example2-v2.png", width=12,height = 8, bg = "transparent")
df <- read.csv("../data/raw/overall_results-v2.csv",stringsAsFactors=FALSE, encoding="UTF-8")
df_2019 <- df %>% filter(year == 2019)
df_2017 <- df %>% filter(year == 2017)
df_2019$diff <- round(df_2019$percentage - df_2017$percentage,1)
df_2019 <- df_2019 %>% arrange(percentage)
df_2019$party_short <- factor(df_2019$party_short, levels = df_2019$party_short)
df_2019$party_long <- factor(df_2019$party_long, levels = df_2019$party_long)
for (i in 1:length(df_2019$diff)) {
if (df_2019$diff[i] > 0) {
df_2019$diff[i] <- paste("+",df_2019$diff[i],sep="")
}
}
ggplot(data=df_2019, aes(x=party_short, y=percentage, fill=party_short)) +
geom_bar(stat="identity", width = 0.55) +
coord_flip() +
theme_minimal() +
theme(legend.position = "top") +
scale_fill_manual(values=df_2019$color) +
labs(fill = "Subjekti Politik", x = "", y = "Vota", title="Numri i votave sipas subjektit politik",
subtitle="Pa vota me kusht dhe me poste") +
geom_text(aes(label=paste(percentage,
"%", " (",df_2019$diff, ")", sep=""), size=3.5)) +
ylim(0,35)
ggsave("../figures/example1-v2.png", width=12,height = 8)
df_2017 <- df_2017 %>% arrange(percentage)
df_2017$party_short <- factor(df_2017$party_short, levels = df_2019$party_short)
df_2017$party_long <- factor(df_2017$party_long, levels = df_2019$party_long)
ggplot(data=df_2017, aes(x=party_short, y=percentage, fill=party_short)) +
geom_bar(stat="identity", width = 0.55, alpha=1) +
coord_flip() +
theme_minimal() +
scale_fill_manual(values=df_2019$color) +
theme(legend.position="top",
panel.background = element_rect(fill = "transparent"),
panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank()) +
ylim(0,35) +
labs(fill = "Subjekti Politik", x = "", y = "Vota", title="Numri i votave sipas subjektit politik",
subtitle="Pa vota me kusht dhe me poste")
ggsave("../figures/example2-v2.png", width=12,height = 8, bg = "transparent")
df <- read.csv("../data/raw/overall_results_v2.csv",stringsAsFactors=FALSE, encoding="UTF-8")
df_2019 <- df %>% filter(year == 2019)
df_2017 <- df %>% filter(year == 2017)
df_2019$diff <- round(df_2019$percentage - df_2017$percentage,1)
df_2019 <- df_2019 %>% arrange(percentage)
df_2019$party_short <- factor(df_2019$party_short, levels = df_2019$party_short)
df_2019$party_long <- factor(df_2019$party_long, levels = df_2019$party_long)
for (i in 1:length(df_2019$diff)) {
if (df_2019$diff[i] > 0) {
df_2019$diff[i] <- paste("+",df_2019$diff[i],sep="")
}
}
ggplot(data=df_2019, aes(x=party_short, y=percentage, fill=party_short)) +
geom_bar(stat="identity", width = 0.55) +
coord_flip() +
theme_minimal() +
theme(legend.position = "top") +
scale_fill_manual(values=df_2019$color) +
labs(fill = "Subjekti Politik", x = "", y = "Vota", title="Numri i votave sipas subjektit politik",
subtitle="Pa vota me kusht dhe me poste") +
geom_text(aes(label=paste(percentage,
"%", " (",df_2019$diff, ")", sep=""), size=3.5)) +
ylim(0,35)
ggsave("../figures/example1-v2.png", width=12,height = 8)
df_2017 <- df_2017 %>% arrange(percentage)
df_2017$party_short <- factor(df_2017$party_short, levels = df_2019$party_short)
df_2017$party_long <- factor(df_2017$party_long, levels = df_2019$party_long)
ggplot(data=df_2017, aes(x=party_short, y=percentage, fill=party_short)) +
geom_bar(stat="identity", width = 0.55, alpha=1) +
coord_flip() +
theme_minimal() +
scale_fill_manual(values=df_2019$color) +
theme(legend.position="top",
panel.background = element_rect(fill = "transparent"),
panel.border=element_blank(),panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),plot.background=element_blank()) +
ylim(0,35) +
labs(fill = "Subjekti Politik", x = "", y = "Vota", title="Numri i votave sipas subjektit politik",
subtitle="Pa vota me kusht dhe me poste")
ggsave("../figures/example2-v2.png", width=12,height = 8, bg = "transparent")
